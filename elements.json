{"apiVersion":"v1","kind":"DeploymentConfig","metadata":{"name":"$(params.APP_NAME)","labels":{"app":"$(params.APP_NAME)","service":"$(params.APP_NAME)"},"namespace":"$(params.PROJECT)"},"spec":{"template":{"metadata":{"labels":{"app":"$(params.APP_NAME)","service":"$(params.APP_NAME)"}},"spec":{"containers":[{"name":"$(params.APP_NAME)","image":"image-registry.openshift-image-registry.svc:5000/$(params.PROJECT)/$(params.APP_NAME):$(params.VERSION)","ports":[{"containerPort":3000}]}]},"replicas":1,"strategy":{"type":"Rolling"}}}}

{"apiVersion":"v1","kind":"Service","metadata":{"name":"$(params.APP_NAME)","namespace":"$(params.PROJECT)","labels":{"app":"$(params.APP_NAME)"}},"spec":{"ports":{"name":"3000-tcp","protocol":"TCP","port":3000,"targetPort":3000},"selector":{"app":"$(params.APP_NAME)","deploymentconfig":"$(params.APP_NAME)"}}}

{"apiVersion":"route.openshift.io/v1","kind":"Route","metadata":{"name":"$(params.APP_NAME)","namespace":"$(params.PROJECT)","labels":{"app":"$(params.APP_NAME)"}},"spec":{"path":"/","to":{"kind":"Service","name":"$(params.APP_NAME)"},"port":{"targetPort":3000}}}